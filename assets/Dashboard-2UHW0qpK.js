import{c as q,s as Qe,j as t,B as Je,r as i,t as me,v as Xe,p as ea,u as aa,H as ta,m as ae,A as ra,q as na}from"./index-BEfNt5Qr.js";import{L as te}from"./label-BWvynpA0.js";import{I as je}from"./index-O0gBUSYV.js";import{S as Ae,a as Pe,b as we,c as Ne,d as H}from"./select-Jedk2JT6.js";import{S as sa}from"./skeleton-ClV11Jdm.js";import{B as oa}from"./BackButton-D3nTTnAX.js";import{C as Ce}from"./chart-column-DYi4ZYsp.js";import{T as la}from"./trending-up-B7FTWjE9.js";import{T as ia}from"./target-By4YKthy.js";import{U as ca}from"./users-BJJ9JMEi.js";import{c as E,p as ie,a as da,i as ua,s as W,b as ma,d as pa,e as Ge,f as va,g as ha,h as $,j as ga,k as $e,l as fa,m as xa,n as ya,o as ba,q as ja,r as Aa,t as Fe,u as Pa,v as pe,w as Be,R as wa,S as Na,x as ze,y as ve,z as Ca,A as ka,G as Sa,C as U,L as J,B as ke,D as se,E as de,F as Ea,H as oe,I as Da,J as Ma,K as Oa,M as Se,N as Ra,O as Ta,P as Va,Q as Ia,T as _a,U as La,V as Ka,W as Ga,X as Ee,Y as $a,Z as Fa,_ as Ba,$ as za,a0 as De,a1 as Wa,a2 as Ya,a3 as Ua,a4 as qa,a5 as Ha,a6 as Za,a7 as Z,a8 as Me,a9 as Oe,aa as Re,ab as re,ac as Te,ad as Ve}from"./BarChart-DCDz5Yrd.js";import"./index-BZE8TNrO.js";import"./check-DjnL3u2i.js";/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Ja=q("calendar-days",Qa);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],et=q("dollar-sign",Xa);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const at=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],tt=q("moon",at);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],nt=q("palette",rt);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ot=q("sun",st);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],it=q("user",lt);function ct({icon:a,title:e,description:n,actionLabel:r,actionPath:o}){const c=Qe();return t.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[t.jsx("div",{className:"rounded-full bg-muted p-4 mb-4",children:t.jsx(a,{className:"h-8 w-8 text-muted-foreground"})}),t.jsx("h3",{className:"text-lg font-semibold mb-2",children:e}),t.jsx("p",{className:"text-muted-foreground mb-6 max-w-md",children:n}),r&&o&&t.jsx(Je,{onClick:()=>c(o),children:r})]})}var We=a=>a.graphicalItems.polarItems,dt=E([ie,da],ua),he=E([We,W,dt],ma),ut=E([he],pa),ge=E([ut,Ge],va),mt=E([ge,W,he],ha),pt=E([ge,W,he],(a,e,n)=>n.length>0?a.flatMap(r=>n.flatMap(o=>{var c,p=$(r,(c=e.dataKey)!==null&&c!==void 0?c:o.dataKey);return{value:p,errorDomain:[]}})).filter(Boolean):e?.dataKey!=null?a.map(r=>({value:$(r,e.dataKey),errorDomain:[]})):a.map(r=>({value:r,errorDomain:[]}))),Ie=()=>{},vt=E([W,ga,Ie,pt,Ie,$e,ie],fa),Ye=E([W,$e,ge,mt,xa,ie,vt],ya),ht=E([Ye,W,ba],ja);E([W,Ye,ht,ie],Aa);function _e(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,r)}return n}function Le(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_e(Object(n),!0).forEach(function(r){gt(a,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(n,r))})}return a}function gt(a,e,n){return(e=ft(e))in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function ft(a){var e=xt(a,"string");return typeof e=="symbol"?e:e+""}function xt(a,e){if(typeof a!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var yt=(a,e)=>e,fe=E([We,yt],(a,e)=>a.filter(n=>n.type==="pie").find(n=>n.id===e)),bt=[],xe=(a,e,n)=>n?.length===0?bt:n,Ue=E([Ge,fe,xe],(a,e,n)=>{var{chartData:r}=a;if(e!=null){var o;if(e?.data!=null&&e.data.length>0?o=e.data:o=r,(!o||!o.length)&&n!=null&&(o=n.map(c=>Le(Le({},e.presentationProps),c.props))),o!=null)return o}}),jt=E([Ue,fe,xe],(a,e,n)=>{if(!(a==null||e==null))return a.map((r,o)=>{var c,p=$(r,e.nameKey,e.name),v;return n!=null&&(c=n[o])!==null&&c!==void 0&&(c=c.props)!==null&&c!==void 0&&c.fill?v=n[o].props.fill:typeof r=="object"&&r!=null&&"fill"in r?v=r.fill:v=e.fill,{value:Fe(p,e.dataKey),color:v,payload:r,type:e.legendType}})}),At=E([Ue,fe,xe,Pa],(a,e,n,r)=>{if(!(e==null||a==null))return Kt({offset:r,pieSettings:e,displayedData:a,cells:n})}),Pt=["onMouseEnter","onClick","onMouseLeave"],wt=["id"],Nt=["id"];function ye(a,e){if(a==null)return{};var n,r,o=Ct(a,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(a,n)&&(o[n]=a[n])}return o}function Ct(a,e){if(a==null)return{};var n={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;n[r]=a[r]}return n}function Ke(a,e){var n=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),n.push.apply(n,r)}return n}function g(a){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Ke(Object(n),!0).forEach(function(r){kt(a,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(n,r))})}return a}function kt(a,e,n){return(e=St(e))in a?Object.defineProperty(a,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[e]=n,a}function St(a){var e=Et(a,"string");return typeof e=="symbol"?e:e+""}function Et(a,e){if(typeof a!="object"||!a)return a;var n=a[Symbol.toPrimitive];if(n!==void 0){var r=n.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function F(){return F=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},F.apply(null,arguments)}function Dt(a){var e=i.useMemo(()=>ze(a.children,U),[a.children]),n=ve(r=>jt(r,a.id,e));return n==null?null:i.createElement(Ca,{legendPayload:n})}function Mt(a){var{dataKey:e,nameKey:n,sectors:r,stroke:o,strokeWidth:c,fill:p,name:v,hide:w,tooltipType:f}=a;return{dataDefinedOnItem:r?.map(A=>A.tooltipPayload),positions:r?.map(A=>A.tooltipPosition),settings:{stroke:o,strokeWidth:c,fill:p,dataKey:e,nameKey:n,name:Fe(v,e),hide:w,type:f,color:p,unit:""}}}var Ot=(a,e)=>a>e?"start":a<e?"end":"middle",Rt=(a,e,n)=>typeof e=="function"?e(a):oe(e,n,n*.8),Tt=(a,e,n)=>{var{top:r,left:o,width:c,height:p}=e,v=Ea(c,p),w=o+oe(a.cx,c,c/2),f=r+oe(a.cy,p,p/2),A=oe(a.innerRadius,v,0),C=Rt(n,a.outerRadius,v),m=a.maxRadius||Math.sqrt(c*c+p*p)/2;return{cx:w,cy:f,innerRadius:A,outerRadius:C,maxRadius:m}},Vt=(a,e)=>{var n=se(e-a),r=Math.min(Math.abs(e-a),360);return n*r},It=(a,e)=>{if(i.isValidElement(a))return i.cloneElement(a,e);if(typeof a=="function")return a(e);var n=me("recharts-pie-label-line",typeof a!="boolean"?a.className:"");return i.createElement($a,F({},e,{type:"linear",className:n}))},_t=(a,e,n)=>{if(i.isValidElement(a))return i.cloneElement(a,e);var r=n;if(typeof a=="function"&&(r=a(e),i.isValidElement(r)))return r;var o=me("recharts-pie-label-text",typeof a!="boolean"&&typeof a!="function"?a.className:"");return i.createElement(Fa,F({},e,{alignmentBaseline:"middle",className:o}),r)};function Lt(a){var{sectors:e,props:n,showLabels:r}=a,{label:o,labelLine:c,dataKey:p}=n;if(!r||!o||!e)return null;var v=Be(n),w=Ee(o,!1),f=Ee(c,!1),A=typeof o=="object"&&"offsetRadius"in o&&o.offsetRadius||20,C=e.map((m,P)=>{var u=(m.startAngle+m.endAngle)/2,y=de(m.cx,m.cy,m.outerRadius+A,u),k=g(g(g(g({},v),m),{},{stroke:"none"},w),{},{index:P,textAnchor:Ot(y.x,m.cx)},y),I=g(g(g(g({},v),m),{},{fill:"none",stroke:m.fill},f),{},{index:P,points:[de(m.cx,m.cy,m.outerRadius,u),y],key:"line"});return i.createElement(J,{key:"label-".concat(m.startAngle,"-").concat(m.endAngle,"-").concat(m.midAngle,"-").concat(P)},c&&It(c,I),_t(o,k,$(m,p)))});return i.createElement(J,{className:"recharts-pie-labels"},C)}function qe(a){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:o,showLabels:c}=a,p=ve(Ra),{onMouseEnter:v,onClick:w,onMouseLeave:f}=o,A=ye(o,Pt),C=Ta(v,o.dataKey),m=Va(f),P=Ia(w,o.dataKey);return e==null?null:i.createElement(i.Fragment,null,e.map((u,y)=>{if(u?.startAngle===0&&u?.endAngle===0&&e.length!==1)return null;var k=n&&String(y)===p,I=p?r:null,M=k?n:I,O=g(g({},u),{},{stroke:u.stroke,tabIndex:-1,[La]:y,[_a]:o.dataKey});return i.createElement(J,F({tabIndex:-1,className:"recharts-pie-sector"},Ka(A,u,y),{onMouseEnter:C(u,y),onMouseLeave:m(u,y),onClick:P(u,y),key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(y)}),i.createElement(Ga,F({option:M,isActive:k,shapeType:"sector"},O)))}),i.createElement(Lt,{sectors:e,props:o,showLabels:c}))}function Kt(a){var e,{pieSettings:n,displayedData:r,cells:o,offset:c}=a,{cornerRadius:p,startAngle:v,endAngle:w,dataKey:f,nameKey:A,tooltipType:C}=n,m=Math.abs(n.minAngle),P=Vt(v,w),u=Math.abs(P),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,k=r.filter(x=>$(x,f,0)!==0).length,I=(u>=360?k:k-1)*y,M=u-k*m-I,O=r.reduce((x,T)=>{var b=$(T,f,0);return x+(ke(b)?b:0)},0),Y;if(O>0){var R;Y=r.map((x,T)=>{var b=$(x,f,0),_=$(x,A,T),h=Tt(n,c,x),V=(ke(b)?b:0)/O,j,S=g(g({},x),o&&o[T]&&o[T].props);T?j=R.endAngle+se(P)*y*(b!==0?1:0):j=v;var L=j+se(P)*((b!==0?m:0)+V*M),B=(j+L)/2,z=(h.innerRadius+h.outerRadius)/2,X=[{name:_,value:b,payload:S,dataKey:f,type:C}],ee=de(h.cx,h.cy,z,B);return R=g(g(g(g({},n.presentationProps),{},{percent:V,cornerRadius:p,name:_,tooltipPayload:X,midAngle:B,middleRadius:z,tooltipPosition:ee},S),h),{},{value:$(x,f),startAngle:j,endAngle:L,payload:S,paddingAngle:se(P)*y}),R})}return Y}function Gt(a){var{props:e,previousSectorsRef:n}=a,{sectors:r,isAnimationActive:o,animationBegin:c,animationDuration:p,animationEasing:v,activeShape:w,inactiveShape:f,onAnimationStart:A,onAnimationEnd:C}=e,m=Da(e,"recharts-pie-"),P=n.current,[u,y]=i.useState(!0),k=i.useCallback(()=>{typeof C=="function"&&C(),y(!1)},[C]),I=i.useCallback(()=>{typeof A=="function"&&A(),y(!0)},[A]);return i.createElement(Ma,{begin:c,duration:p,isActive:o,easing:v,onAnimationStart:I,onAnimationEnd:k,key:m},M=>{var O=[],Y=r&&r[0],R=Y.startAngle;return r.forEach((x,T)=>{var b=P&&P[T],_=T>0?Oa(x,"paddingAngle",0):0;if(b){var h=Se(b.endAngle-b.startAngle,x.endAngle-x.startAngle),V=g(g({},x),{},{startAngle:R+_,endAngle:R+h(M)+_});O.push(V),R=V.endAngle}else{var{endAngle:j,startAngle:S}=x,L=Se(0,j-S),B=L(M),z=g(g({},x),{},{startAngle:R+_,endAngle:R+B+_});O.push(z),R=z.endAngle}}),n.current=O,i.createElement(J,null,i.createElement(qe,{sectors:O,activeShape:w,inactiveShape:f,allOtherPieProps:e,showLabels:!u}))})}function $t(a){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:o}=a,c=i.useRef(null),p=c.current;return n&&e&&e.length&&(!p||p!==e)?i.createElement(Gt,{props:a,previousSectorsRef:c}):i.createElement(qe,{sectors:e,activeShape:r,inactiveShape:o,allOtherPieProps:a,showLabels:!0})}function Ft(a){var{hide:e,className:n,rootTabIndex:r}=a,o=me("recharts-pie",n);return e?null:i.createElement(J,{tabIndex:r,className:o},i.createElement($t,a))}var Bt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Sa.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function zt(a){var{id:e}=a,n=ye(a,wt),r=i.useMemo(()=>ze(a.children,U),[a.children]),o=ve(c=>At(c,e,r));return i.createElement(i.Fragment,null,i.createElement(ka,{fn:Mt,args:g(g({},a),{},{sectors:o})}),i.createElement(Ft,F({},n,{sectors:o})))}function le(a){var e=pe(a,Bt),{id:n}=e,r=ye(e,Nt),o=Be(r);return i.createElement(wa,{id:n,type:"pie"},c=>i.createElement(i.Fragment,null,i.createElement(Na,{type:"pie",id:c,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:o}),i.createElement(Dt,F({},r,{id:c})),i.createElement(zt,F({},r,{id:c})),r.children))}le.displayName="Pie";function Wt(a){var e=Ba();return i.useEffect(()=>{e(za(a))},[e,a]),null}var Yt=["width","height","layout"];function ue(){return ue=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(a[r]=n[r])}return a},ue.apply(null,arguments)}function Ut(a,e){if(a==null)return{};var n,r,o=qt(a,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(a);for(r=0;r<c.length;r++)n=c[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(a,n)&&(o[n]=a[n])}return o}function qt(a,e){if(a==null)return{};var n={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;n[r]=a[r]}return n}var Ht={top:5,right:5,bottom:5,left:5},Zt={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ht,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Qt=i.forwardRef(function(e,n){var r,o=pe(e.categoricalChartProps,Zt),{width:c,height:p,layout:v}=o,w=Ut(o,Yt);if(!De(c)||!De(p))return null;var{chartName:f,defaultTooltipEventType:A,validateTooltipEventTypes:C,tooltipPayloadSearcher:m}=e,P={chartName:f,defaultTooltipEventType:A,validateTooltipEventTypes:C,tooltipPayloadSearcher:m,eventEmitter:void 0};return i.createElement(Wa,{preloadedState:{options:P},reduxStoreName:(r=o.id)!==null&&r!==void 0?r:f},i.createElement(Ya,{chartData:o.data}),i.createElement(Ua,{width:c,height:p,layout:v,margin:o.margin}),i.createElement(qa,{accessibilityLayer:o.accessibilityLayer,barCategoryGap:o.barCategoryGap,maxBarSize:o.maxBarSize,stackOffset:o.stackOffset,barGap:o.barGap,barSize:o.barSize,syncId:o.syncId,syncMethod:o.syncMethod,className:o.className}),i.createElement(Wt,{cx:o.cx,cy:o.cy,startAngle:o.startAngle,endAngle:o.endAngle,innerRadius:o.innerRadius,outerRadius:o.outerRadius}),i.createElement(Ha,ue({width:c,height:p},w,{ref:n})))}),Jt=["item"],Xt={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ce=i.forwardRef((a,e)=>{var n=pe(a,Xt);return i.createElement(Qt,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Jt,tooltipPayloadSearcher:Za,categoricalChartProps:n,ref:e})});const er=a=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(a||0);function ne({active:a,payload:e,label:n,currency:r=!1}){return!a||!e||e.length===0?null:t.jsxs("div",{className:"rounded-md border bg-popover text-popover-foreground p-2 shadow-sm",children:[n&&t.jsx("div",{className:"text-xs text-muted-foreground mb-1",children:n}),t.jsx("div",{className:"space-y-1",children:e.map((o,c)=>t.jsxs("div",{className:"flex items-center gap-2 text-xs",children:[t.jsx("span",{className:"h-2 w-2 rounded-full",style:{backgroundColor:o.color}}),t.jsxs("span",{className:"text-muted-foreground",children:[o.name,":"]}),t.jsx("span",{className:"font-medium",children:r?er(Number(o.value)):o.value})]},c))})]})}function ar(a){const e=new Date(a);return`${e.getFullYear()}-${(e.getMonth()+1).toString().padStart(2,"0")}`}const tr=[{id:"1",dataCompetencia:"2024-12-01",dataVencimento:"2024-12-15",cliente:"João Silva",origem:"Indicação",estilo:"Clássico",produto:"Apartamento 2Q",vgv:45e4,vgc:22500,tipo:"Revenda",vendedor:"Ana Souza",captador:"Bruno Lima",gerente:"Carla Mendes",status:"Aprovada",pago:!0,createdAt:"2024-12-01T08:00:00Z"},{id:"2",dataCompetencia:"2024-12-03",dataVencimento:"2024-12-18",cliente:"Maria Santos",origem:"Digital",estilo:"Moderno",produto:"Casa 3Q",vgv:68e4,vgc:34e3,tipo:"Lançamento",vendedor:"Bruno Lima",captador:"Ana Souza",gerente:"Diego Rocha",status:"Em análise",pago:!1,createdAt:"2024-12-03T10:30:00Z"},{id:"3",dataCompetencia:"2024-12-05",dataVencimento:"2024-12-20",cliente:"Pedro Costa",origem:"Portaria",estilo:"Luxo",produto:"Cobertura",vgv:12e5,vgc:6e4,tipo:"Lançamento",vendedor:"Carla Mendes",captador:"Felipe Nunes",gerente:"Eduarda Pires",status:"Aprovada",pago:!0,createdAt:"2024-12-05T14:15:00Z"},{id:"4",dataCompetencia:"2024-11-28",dataVencimento:"2024-12-12",cliente:"Ana Oliveira",origem:"Indicação",estilo:"Clássico",produto:"Apartamento 1Q",vgv:32e4,vgc:16e3,tipo:"Revenda",vendedor:"Diego Rocha",captador:"Carla Mendes",gerente:"Ana Souza",status:"Aprovada",pago:!0,createdAt:"2024-11-28T16:45:00Z"},{id:"5",dataCompetencia:"2024-11-25",dataVencimento:"2024-12-10",cliente:"Carlos Ferreira",origem:"Digital",estilo:"Moderno",produto:"Casa 4Q",vgv:85e4,vgc:42500,tipo:"Lançamento",vendedor:"Eduarda Pires",captador:"Diego Rocha",gerente:"Bruno Lima",status:"Cancelada",pago:!1,createdAt:"2024-11-25T09:20:00Z"}],Q=a=>na(a,{minimumFractionDigits:0,maximumFractionDigits:0});function gr(){const{theme:a,palette:e,setTheme:n,setPalette:r,savePreferences:o}=Xe(),[c,p]=i.useState(!1),v=[{primary:"#2563eb",secondary:"#0ea5e9"},{primary:"#22c55e",secondary:"#0ea5e9"},{primary:"#a21caf",secondary:"#6366f1"}],w=s=>r({...e,...s}),f=s=>n(s),A=s=>r(s),C=async()=>{p(!0),await o(),p(!1)},{sales:m}=ea(),{settings:P}=aa(),[u,y]=i.useState("mensal"),[k,I]=i.useState(""),[M,O]=i.useState(""),[Y,R]=i.useState(!1),[x,T]=i.useState("all"),b=m&&m.length>0?m:tr,_=i.useMemo(()=>Array.from(new Set(b.map(s=>s.vendedor).filter(Boolean))),[b]),h=i.useMemo(()=>{const s=new Date;let l=null,d=null;return u==="mensal"&&(l=new Date(s.getFullYear(),s.getMonth(),1),d=new Date(s.getFullYear(),s.getMonth()+1,0)),u==="anual"&&(l=new Date(s.getFullYear(),0,1),d=new Date(s.getFullYear(),11,31)),u==="custom"&&k&&M&&(l=new Date(k),d=new Date(M)),b.filter(N=>{const K=new Date(N.dataCompetencia),D=l&&d?K>=l&&K<=d:!0,G=x==="all"?!0:N.vendedor===x;return D&&G})},[b,u,k,M,x]),V=i.useMemo(()=>{const s=new Date;let l=null,d=null;if(u==="mensal"){const N=new Date(s.getFullYear(),s.getMonth()-1,1);l=new Date(N.getFullYear(),N.getMonth(),1),d=new Date(N.getFullYear(),N.getMonth()+1,0)}if(u==="anual"){const N=s.getFullYear()-1;l=new Date(N,0,1),d=new Date(N,11,31)}return u==="custom"?[]:b.filter(N=>{const K=new Date(N.dataCompetencia);return l&&d?K>=l&&K<=d:!1})},[b,u]),j=i.useMemo(()=>{const s=h.reduce((D,G)=>D+G.vgv,0),l=h.reduce((D,G)=>D+G.vgc,0),d=h.length,N=h.filter(D=>D.status==="Aprovada").length,K=d>0?N/d*100:0;return{totalVgv:s,totalVgc:l,totalSales:d,conversionRate:K}},[h]),S=i.useMemo(()=>{const s=V.reduce((D,G)=>D+G.vgv,0),l=V.reduce((D,G)=>D+G.vgc,0),d=V.length,N=V.filter(D=>D.status==="Aprovada").length,K=d>0?N/d*100:0;return{totalVgv:s,totalVgc:l,totalSales:d,conversionRate:K}},[V]),L=(s,l)=>l>0?Number(((s-l)/l*100).toFixed(1)):0,B=i.useMemo(()=>{const s={};return h.forEach(l=>{const d=ar(l.dataCompetencia);s[d]=s[d]||{vgv:0,vgc:0},s[d].vgv+=l.vgv,s[d].vgc+=l.vgc}),Object.entries(s).sort((l,d)=>l[0].localeCompare(d[0])).map(([l,d])=>({mes:l,VGV:Number(d.vgv.toFixed(2)),VGC:Number(d.vgc.toFixed(2))}))},[h]),z=i.useMemo(()=>{const s=new Map;return h.forEach(l=>s.set(l.vendedor,(s.get(l.vendedor)||0)+l.vgv)),Array.from(s.entries()).map(([l,d])=>({vendedor:l,VGV:d})).sort((l,d)=>d.VGV-l.VGV).slice(0,10)},[h]),X=i.useMemo(()=>{const s=new Map;return h.forEach(l=>s.set(l.tipo,(s.get(l.tipo)||0)+l.vgv)),Array.from(s.entries()).map(([l,d])=>({name:l,value:d}))},[h]),ee=i.useMemo(()=>{const s=new Map;return h.forEach(l=>s.set(l.origem,(s.get(l.origem)||0)+l.vgv)),Array.from(s.entries()).map(([l,d])=>({name:l,value:d}))},[h]),He=h.reduce((s,l)=>s+l.vgv,0),be=h.reduce((s,l)=>s+l.vgc,0),Ze=[{name:"VGC",value:be},{name:"Restante",value:Math.max(0,He-be)}];return P.chartColors,t.jsxs("div",{className:"space-y-6 relative",children:[t.jsx(oa,{}),t.jsxs(ta,{children:[t.jsxs("title",{children:[P.title," — Dashboard"]}),t.jsx("meta",{name:"description",content:"Gráficos (VGV, VGC, Ranking, Tipos, Origem) com filtros por período e corretor."})]}),t.jsxs(ae.div,{layout:!0,className:"mb-2 px-2 py-1 rounded-2xl shadow bg-white/50 dark:bg-slate-900/50 backdrop-blur border border-white/10 flex flex-wrap gap-2 items-center justify-center max-w-md mx-auto",style:{opacity:.95},children:[t.jsx(nt,{size:18,className:"mr-2 opacity-60"}),t.jsxs("button",{className:`px-2 py-1 rounded font-semibold flex items-center gap-1 transition text-xs ${a==="light"?"bg-primary text-white":"bg-slate-700 text-white"}`,onClick:()=>f("light"),children:[t.jsx(ot,{size:14})," Claro"]}),t.jsxs("button",{className:`px-2 py-1 rounded font-semibold flex items-center gap-1 transition text-xs ${a==="dark"?"bg-primary text-white":"bg-slate-700 text-white"}`,onClick:()=>f("dark"),children:[t.jsx(tt,{size:14})," Escuro"]}),t.jsx("input",{type:"color",value:e.primary,onChange:s=>w({primary:s.target.value}),className:"w-7 h-7 rounded border",title:"Cor Primária"}),t.jsx("input",{type:"color",value:e.secondary,onChange:s=>w({secondary:s.target.value}),className:"w-7 h-7 rounded border",title:"Cor Secundária"}),v.map((s,l)=>t.jsx("button",{className:"w-6 h-6 rounded-full border-2 border-white shadow",style:{background:`linear-gradient(135deg, ${s.primary}, ${s.secondary})`},onClick:()=>A(s),title:"Paleta rápida"},l)),t.jsx("button",{className:"px-2 py-1 rounded bg-green-600 text-white font-semibold flex items-center gap-1 text-xs",onClick:C,disabled:c,children:"Salvar"})]}),t.jsxs(ae.div,{layout:!0,className:"flex flex-wrap items-center gap-4 mb-6 px-3 py-3 rounded-2xl bg-white/50 dark:bg-slate-900/50 backdrop-blur border border-white/10 shadow max-w-3xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Ja,{size:18,className:"text-primary"}),t.jsx(te,{className:"mr-1",children:"Período"}),t.jsxs(Ae,{value:u,onValueChange:s=>y(s),children:[t.jsx(Pe,{className:"w-32 rounded-full",children:t.jsx(we,{})}),t.jsxs(Ne,{children:[t.jsx(H,{value:"mensal",children:"Mensal"}),t.jsx(H,{value:"anual",children:"Anual"}),t.jsx(H,{value:"custom",children:"Personalizado"})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(it,{size:18,className:"text-primary"}),t.jsx(te,{className:"mr-1",children:"Corretor"}),t.jsxs(Ae,{value:x,onValueChange:s=>T(s),children:[t.jsx(Pe,{className:"w-36 rounded-full",children:t.jsx(we,{placeholder:"Todos"})}),t.jsxs(Ne,{children:[t.jsx(H,{value:"all",children:"Todos"}),_.map(s=>t.jsx(H,{value:s,children:s},s))]})]})]}),u==="custom"&&t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{children:"Início"}),t.jsx(je,{className:"rounded-full",type:"date",value:k,onChange:s=>I(s.target.value)})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(te,{children:"Fim"}),t.jsx(je,{className:"rounded-full",type:"date",value:M,onChange:s=>O(s.target.value)})]})]})]}),t.jsx(ra,{children:Y?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:Array.from({length:4}).map((s,l)=>t.jsx(sa,{className:"h-36"},l))}):b.length===0?t.jsx(ct,{icon:Ce,title:"Nenhum dado encontrado",description:"Adicione vendas para ver os gráficos e estatísticas no dashboard."}):t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"VGV Total",value:Q(j.totalVgv),subtitle:"Volume Geral de Vendas",icon:et,trend:{value:L(j.totalVgv,S.totalVgv),label:"vs período anterior"},color:j.totalVgv>=S.totalVgv?"from-blue-700 to-purple-600":"from-blue-600 to-purple-500"},{title:"VGC Total",value:Q(j.totalVgc),subtitle:"Volume Geral de Comissão",icon:la,trend:{value:L(j.totalVgc,S.totalVgc),label:"vs período anterior"},color:j.totalVgc>=S.totalVgc?"from-emerald-500 to-cyan-500":"from-emerald-400 to-cyan-400"},{title:"Vendas",value:j.totalSales,subtitle:"Total de transações",icon:Ce,trend:{value:L(j.totalSales,S.totalSales),label:"vs período anterior"},color:j.totalSales>=S.totalSales?"from-orange-500 to-pink-500":"from-orange-400 to-pink-400"},{title:"Taxa de Conversão",value:`${j.conversionRate.toFixed(1)}%`,subtitle:"Aprovadas vs Total",icon:ia,trend:{value:L(j.conversionRate,S.conversionRate),label:"vs período anterior"},color:j.conversionRate>=S.conversionRate?"from-purple-600 to-violet-600":"from-purple-500 to-violet-500"}].map((s,l)=>t.jsxs(ae.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},exit:{opacity:0,y:30},transition:{duration:.7,delay:.2+l*.15},whileHover:{scale:1.05},className:`rounded-2xl p-6 shadow-xl bg-gradient-to-br ${s.color} text-white flex flex-col items-center justify-center gap-3 relative`,children:[t.jsxs("div",{className:"absolute top-3 right-3 text-xs opacity-80 font-semibold",children:[s.trend.value>=0?t.jsx("span",{className:"text-emerald-200",children:"▲"}):t.jsx("span",{className:"text-red-200",children:"▼"})," ",s.trend.value,"%"]}),t.jsx(s.icon,{size:40,className:"mb-1 opacity-90"}),t.jsx("div",{className:"font-bold text-lg",children:s.title}),t.jsx("div",{className:"text-4xl font-extrabold transition-all duration-500 drop-shadow-sm",children:s.value}),t.jsx("div",{className:"text-xs/5 opacity-90",children:s.subtitle}),t.jsx("div",{className:"w-full h-2 rounded-full bg-white/20 overflow-hidden",children:t.jsx(ae.div,{className:"h-2 rounded-full bg-white/80",style:{width:`${Math.min(100,Math.abs(s.trend.value))}%`},layout:!0,transition:{duration:.5}})})]},s.title))})}),m.length===0&&t.jsx("div",{className:"absolute top-4 right-4 z-50",children:t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 rounded-full bg-yellow-400 text-black text-xs font-bold shadow",children:["DEMO ",t.jsx(ca,{size:14})," Dados fictícios"]})}),t.jsxs("section",{className:"grid grid-cols-1 xl:grid-cols-2 gap-6 mt-8",children:[t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/60 dark:bg-slate-900/60 backdrop-blur p-4 shadow",children:[t.jsx("h2",{className:"font-semibold mb-2",children:"VGV Mensal"}),t.jsx("div",{className:"h-72",children:t.jsx(Z,{width:"100%",height:"100%",children:t.jsxs(Me,{data:B,children:[t.jsx(Oe,{dataKey:"mes"}),t.jsx(Re,{tickFormatter:s=>Q(s).replace("R$","R$ ")}),t.jsx(re,{content:t.jsx(ne,{currency:!0})}),t.jsx(Te,{}),t.jsx(Ve,{dataKey:"VGV",fill:"url(#vgvGradient)",radius:[10,10,0,0],isAnimationActive:!0,animationDuration:1200}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"vgvGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:e.primary}),t.jsx("stop",{offset:"100%",stopColor:e.secondary})]})})]})})})]}),t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/60 dark:bg-slate-900/60 backdrop-blur p-4 shadow",children:[t.jsx("h2",{className:"font-semibold mb-2",children:"VGC Mensal"}),t.jsx("div",{className:"h-72",children:t.jsx(Z,{width:"100%",height:"100%",children:t.jsxs(Me,{data:B,children:[t.jsx(Oe,{dataKey:"mes"}),t.jsx(Re,{tickFormatter:s=>Q(s).replace("R$","R$ ")}),t.jsx(re,{content:t.jsx(ne,{currency:!0})}),t.jsx(Te,{}),t.jsx(Ve,{dataKey:"VGC",fill:"url(#vgcGradient)",radius:[10,10,0,0],isAnimationActive:!0,animationDuration:1200}),t.jsx("defs",{children:t.jsxs("linearGradient",{id:"vgcGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[t.jsx("stop",{offset:"0%",stopColor:e.secondary}),t.jsx("stop",{offset:"100%",stopColor:e.primary})]})})]})})})]}),t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/60 dark:bg-slate-900/60 backdrop-blur p-4 shadow",children:[t.jsx("h2",{className:"font-semibold mb-2",children:"Ranking de Corretores"}),t.jsx("div",{className:"h-72 overflow-auto",children:t.jsx("ul",{className:"space-y-2",children:z.map((s,l)=>{let d="";return l===0&&(d="bg-yellow-400"),l===1&&(d="bg-gray-400"),l===2&&(d="bg-orange-400"),t.jsxs("li",{className:"flex items-center gap-3 p-2 rounded-xl shadow-sm bg-white/80 dark:bg-slate-800/80 backdrop-blur",children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:`https://i.pravatar.cc/40?u=${encodeURIComponent(s.vendedor)}`,alt:s.vendedor,className:"h-10 w-10 rounded-full object-cover border-2 border-primary"}),l<3&&t.jsx("span",{className:`absolute -top-2 -right-2 h-5 w-5 rounded-full flex items-center justify-center text-xs font-bold text-white ${d}`})]}),t.jsx("span",{className:"font-semibold text-base",children:s.vendedor}),t.jsx("span",{className:"ml-auto font-bold text-green-700",children:Q(s.VGV)})]},s.vendedor)})})})]}),t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/60 dark:bg-slate-900/60 backdrop-blur p-4 grid grid-cols-1 md:grid-cols-2 gap-4 shadow",children:[t.jsxs("div",{children:[t.jsx("h2",{className:"font-semibold mb-2",children:"Revenda x Lançamento"}),t.jsx("div",{className:"h-64",children:t.jsx(Z,{width:"100%",height:"100%",children:t.jsxs(ce,{children:[t.jsx(re,{content:t.jsx(ne,{currency:!0})}),t.jsx(le,{data:X,dataKey:"value",nameKey:"name",outerRadius:80,label:!0,isAnimationActive:!0,animationDuration:1200,cornerRadius:10,children:X.map((s,l)=>t.jsx(U,{fill:l%2===0?e.primary:e.secondary},l))})]})})})]}),t.jsxs("div",{children:[t.jsx("h2",{className:"font-semibold mb-2",children:"Origem de Vendas"}),t.jsx("div",{className:"h-64",children:t.jsx(Z,{width:"100%",height:"100%",children:t.jsxs(ce,{children:[t.jsx(re,{content:t.jsx(ne,{currency:!0})}),t.jsx(le,{data:ee,dataKey:"value",nameKey:"name",outerRadius:80,label:!0,isAnimationActive:!0,animationDuration:1200,cornerRadius:10,children:ee.map((s,l)=>t.jsx(U,{fill:l%2===0?e.secondary:e.primary},l))})]})})})]})]}),t.jsxs("div",{className:"rounded-2xl border border-white/10 bg-white/60 dark:bg-slate-900/60 backdrop-blur p-4 shadow",children:[t.jsx("h2",{className:"font-semibold mb-2",children:"% do VGC com base no VGV"}),t.jsx("div",{className:"h-72",children:t.jsx(Z,{width:"100%",height:"100%",children:t.jsx(ce,{children:t.jsxs(le,{data:Ze,dataKey:"value",nameKey:"name",innerRadius:60,outerRadius:90,isAnimationActive:!0,animationDuration:1200,cornerRadius:10,children:[t.jsx(U,{fill:e.secondary}),t.jsx(U,{fill:"#e5e7eb"})]})})})})]})]})]})}export{gr as default};
