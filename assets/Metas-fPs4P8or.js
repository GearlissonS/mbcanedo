import{r,j as e,m as l}from"./index-DTUopC4a.js";import{c as b}from"./confetti.module-xXOCn_3V.js";import{C as d,a as c,b as m,c as x}from"./card-Bmn9T-yv.js";import{T as w}from"./target-Cj1EFFQS.js";import{U as z}from"./users-BOf4BsLS.js";import{a7 as y,a8 as M,a9 as A,aa as C,ab as P,ac as R,ad as g}from"./BarChart-BspU5jlH.js";const i=s=>`R$ ${Math.round(s).toLocaleString("pt-BR",{maximumFractionDigits:0})}`,$=(s,j)=>!s||s<=0?0:Math.min(100,j/s*100),S={duration:.6,ease:"easeOut"};function K(){const[s,j]=r.useState([{mes:"Janeiro",metaPiso:5e5,metaAlvo:1e6,realizado:5e5},{mes:"Fevereiro",metaPiso:45e4,metaAlvo:825e3,realizado:2e4},{mes:"MarÃ§o",metaPiso:1e6,metaAlvo:15e5,realizado:5e5},{mes:"Abril",metaPiso:1e5,metaAlvo:75e4,realizado:2e4},{mes:"Maio",metaPiso:5e5,metaAlvo:75e4,realizado:25e4},{mes:"Junho",metaPiso:3e6,metaAlvo:35e5,realizado:5e5},{mes:"Julho",metaPiso:3e5,metaAlvo:15e5,realizado:1034e3}]),[h,U]=r.useState([{nome:"JoÃ£o Silva",meta:5e5,realizado:52e4,avatarUrl:"/placeholder.svg"},{nome:"Maria Souza",meta:4e5,realizado:35e4,avatarUrl:"/placeholder.svg"},{nome:"Carlos Lima",meta:3e5,realizado:31e4,avatarUrl:"/placeholder.svg"}]),o=r.useMemo(()=>s.reduce((a,t)=>a+(t.metaAlvo||0),0),[s]),p=r.useMemo(()=>s.reduce((a,t)=>a+(t.realizado||0),0),[s]),f=r.useMemo(()=>o?p/o*100:0,[o,p]),u=r.useRef(new Set);r.useEffect(()=>{h.forEach(a=>{const t=`${a.nome}-${a.meta}-${a.realizado}`;a.realizado>=a.meta&&!u.current.has(t)&&(u.current.add(t),b({particleCount:120,spread:80,origin:{y:.6}}))})},[h]);const v={initial:{opacity:0,y:20},animate:{opacity:1,y:0}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx(l.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:S,children:e.jsxs(d,{className:"bg-gradient-to-r from-blue-700 to-blue-500 text-white soft-shadow rounded-2xl",children:[e.jsxs(c,{className:"flex items-center justify-between",children:[e.jsxs(m,{className:"flex items-center text-2xl gap-2",children:[e.jsx(w,{size:28})," Meta da Equipe"]}),e.jsxs("span",{className:"text-lg font-semibold",children:["Progresso: ",f.toFixed(1),"%"]})]}),e.jsxs(x,{className:"flex flex-col md:flex-row justify-between items-center gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm",children:"Meta Total"}),e.jsx(l.h2,{className:"text-2xl font-bold",initial:{textShadow:"0px 0px 0px #fff"},animate:{textShadow:"0px 0px 12px #fff"},transition:{repeat:1/0,duration:2},children:i(o)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-sm",children:"Realizado"}),e.jsx("h2",{className:"text-2xl font-bold text-green-300",children:i(p)})]})]}),e.jsx("div",{className:"w-full bg-white/20 rounded-b-2xl h-3",children:e.jsx(l.div,{className:"h-3 bg-emerald-400 rounded-b-2xl",initial:{width:0},animate:{width:`${f}%`},transition:{duration:1.5}})})]})}),e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15,duration:.5},className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(d,{className:"rounded-2xl soft-shadow",children:[e.jsx(c,{children:e.jsxs(m,{className:"flex items-center gap-2",children:[e.jsx(z,{size:22})," Metas por MÃªs"]})}),e.jsx(x,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"p-2",children:"MÃªs"}),e.jsx("th",{className:"p-2",children:"Meta Piso"}),e.jsx("th",{className:"p-2",children:"Meta Alvo"}),e.jsx("th",{className:"p-2",children:"Realizado"})]})}),e.jsx("tbody",{children:s.map(a=>e.jsxs("tr",{className:"border-b hover:bg-slate-50 transition-colors",children:[e.jsx("td",{className:"p-2 whitespace-nowrap",children:a.mes}),e.jsx("td",{className:"p-2 whitespace-nowrap",children:i(a.metaPiso)}),e.jsx("td",{className:"p-2 whitespace-nowrap",children:i(a.metaAlvo)}),e.jsx("td",{className:"p-2 whitespace-nowrap text-green-700 font-semibold",children:i(a.realizado)})]},a.mes))})]})})})]}),e.jsxs(d,{className:"rounded-2xl soft-shadow",children:[e.jsx(c,{children:e.jsx(m,{className:"text-slate-900",children:"Comparativo"})}),e.jsx(x,{children:e.jsx("div",{className:"h-[300px]",children:e.jsx(y,{width:"100%",height:"100%",children:e.jsxs(M,{data:s,children:[e.jsx(A,{dataKey:"mes"}),e.jsx(C,{}),e.jsx(P,{formatter:a=>i(a)}),e.jsx(R,{}),e.jsx(g,{dataKey:"metaPiso",fill:"#60a5fa",name:"Meta Piso"}),e.jsx(g,{dataKey:"realizado",fill:"#34d399",name:"Realizado"})]})})})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:h.map((a,t)=>{const N=$(a.meta,a.realizado),n=a.realizado>=a.meta;return e.jsx(l.div,{variants:v,initial:"initial",animate:"animate",transition:{delay:t*.12,duration:.5},children:e.jsxs(d,{className:`rounded-2xl soft-shadow transition ${n?"border-2 border-emerald-500/70":""}`,children:[e.jsx(c,{children:e.jsxs(m,{className:"text-lg flex items-center gap-3",children:[e.jsx("span",{className:"inline-flex h-8 w-8 items-center justify-center rounded-full bg-slate-100 text-slate-700",children:a.nome?.[0]||"?"}),e.jsx("span",{children:a.nome})]})}),e.jsxs(x,{children:[e.jsxs("p",{className:"text-sm",children:["Meta: ",i(a.meta)]}),e.jsxs("p",{className:"text-sm",children:["Realizado:"," ",e.jsx("span",{className:n?"font-semibold text-green-600":"font-semibold text-blue-600",children:i(a.realizado)})]}),e.jsx("div",{className:"mt-2 w-full bg-slate-200 rounded-full h-3 overflow-hidden",children:e.jsx(l.div,{className:n?"h-3 bg-emerald-500":"h-3 bg-blue-500",initial:{width:0},animate:{width:`${N}%`},transition:{duration:1}})}),n&&e.jsx(l.div,{className:"mt-2 text-green-600 font-bold",animate:{scale:[1,1.15,1]},transition:{repeat:1/0,duration:1.5},children:"ðŸŽ‰ Meta Batida!"})]})]})},`${a.nome}-${t}`)})})]})}export{K as default};
